\section{Type constructors in structural type theory}
In this section we will introduce the usual type constructors to structural
type theory. We do so with the point of view that each type constructor is a
(class of) operations on type theory that should be compatible with extension,
weakening, substitution and identity morphisms. Likewise, each induction
principle of an inductively defined type constructor is going to be such an
operator, and it is therefore also required to be compatible with extension,
weakening, substitution and identity functions.

We will first state all the rules of the individual type constructors, where
only the $\wtypesym$-type constructor depends on the presence of dependent
function types (or universes too?), and hence comes with the notion that $\wtypesym$
is compatible with dependent product types and vice versa. All the other
compatibility properties are stated in \autoref{compatibility-of-type-constructors}.

\subsubsection{Issues to keep in mind}
\begin{enumerate}
\item The rule asserting that unit types are compatible with context extension makes
no sense from the point of view that contexts are lists of types and types
are contexts of length one; in other words, that types are indecomposable (i.e.~non-extended)
families. Remidies:
\begin{enumerate}
\item This point of view is wrong and should be abandoned.
\item We have, as Vladimir proposed, two kinds of judgmental equalities. One
      could be used for the very strict equalities, the other could be used
      to state the compatibility rules with. In other words, the other equality
      is a compatibility relation. If we do that, we shouldn't require that
      if a family is compatible with a type, then the family is a type. The
      compatibility relation could relate things by uniqueness up to unique
      isomorphism.
\item Don't state such compatibility rules for the type constructors.
\item Don't even give the unit type a dependent action.
\end{enumerate}
\end{enumerate}

\subsection{The unit type in structural type theory}
In this section we explore what we get if we pose compatibility conditions on
an inductively defined unit type. We will assume that not only the unit type
is compatible with extension, weakening, substitution and identity functions,
but also its induction principle should be compatible with those.

\begin{align*}
& \inference
  { \jfam{\Gamma}{A}
    }
  { \jtype{{\Gamma}{A}}{\unitc{A}}
    }
& & \inference
    { \jfameq{\Gamma}{A}{A'}
      }
    { \jtypeeq
        {{\Gamma}{A}}
        {\unitc{A}}
        {\unitc{A'}}
      }
  \\
& \inference
    { \jfam{\Gamma}{A}
      }
    { \jterm{{\Gamma}{A}}{\unitc{A}}{\unitct{A}}
      }
& & \inference
    { \jfameq{\Gamma}{A}{A'}
      }
    { \jtermeq{{\Gamma}{A}}{\unitc{A}}{\unitct{A}}{\unitct{A'}}
      }
  \\
& \inference
  { \jfam{{\Gamma}{A}}{P}
    }
  { \jtype{{{{\Gamma}{A}}{P}}{\ctxwk{P}{\unitc{A}}}}{\unitf{A}{P}}
    }
& & \inference
    { \jfameq{{\Gamma}{A}}{P}{P'}
      }
    { \jtypeeq
        {{{{\Gamma}{A}}{P}}{\ctxwk{P}{\unitc{A}}}}
        {\unitf{A}{P}}
        {\unitf{A}{P'}}
      }
  \\
& \inference
  { \jfam{{\Gamma}{A}}{P}
    }
  { \jterm
      {{{{\Gamma}{A}}{P}}{\ctxwk{P}{\unitc{A}}}}
      {\unitf{A}{P}}
      {\unitft{A}{P}}
    }
& & \inference
    { \jfameq{{\Gamma}{A}}{P}{P'}
      }
    { \jtermeq
        {{{{\Gamma}{A}}{P}}{\ctxwk{P}{\unitc{A}}}}
        {\unitf{A}{P}}
        {\unitft{A}{P}}
        {\unitft{A}{P'}}
      }
\end{align*}

We impose the following compatibility rules for the unit type:

\begin{align*}
& \inference
  { \jfam{{\Gamma}{A}}{P}
    }
  { \jtypeeq
      {{{\Gamma}{A}}{P}}
      {\ctxext{\ctxwk{P}{\unitc{A}}}{\unitf{A}{P}}}
      {\unitc{{\Gamma}{A}}}
    }\\
& \inference
  { \jfam{\Gamma}{A}
    \jfam{\Gamma}{B}
    }
  { \jtypeeq{{{\Gamma}{A}}{\ctxwk{A}{B}}}{}{}
    }  
\end{align*}

\subsection{The empty type}

\subsection{The natural numbers}

\subsection{Dependent pair types}

\subsection{Identity types}

\subsection{Dependent function types}
The dependent function type constructor bundles up the terms of a family $P$
of contexts over $\ctxext{\Gamma}{A}$ and produces a family $\mprd{A}{P}$ of
contexts over $\Gamma$. Its terms are copies of those of $P$. The operation
$\mprd{A}{\blank}$ also acts on terms of families -- this is called
$\lambda$-abstraction.

The dependent function type constructor not only acts on families $P$ of
contexts over $\ctxext{\Gamma}{A}$, but it also sends families $Q$ of contexts
over $\ctxext{{\Gamma}{A}}{P}$ to families $\mprd{A}{Q}$ over $\ctxext{\Gamma}
{\mprd{A}{P}}$. Moreover, we will also have a version of $\lambda$-abstraction
for terms of such families $Q$.

\begin{align*}
& \inference
    { \jfam{{\Gamma}{A}}{P}
      }
    { \jfam{\Gamma}{\mprd{A}{P}}
      }
& & \inference
      { \jfameq{\Gamma}{A}{A'}
        \jfameq{{\Gamma}{A}}{P}{P'}
        }
      { \jfameq{\Gamma}{\mprd{A}{P}}{\mprd{A'}{P'}}
        }
  \\
& \inference
    { \jterm{{\Gamma}{A}}{P}{f}
      }
    { \jterm{\Gamma}{\mprd{A}{P}}{\slam{A}{P}{f}}
      }
& & \inference
      { \jtermeq{{\Gamma}{A}}{P}{f}{f'}
        }
      { \jtermeq{\Gamma}{\mprd{A}{P}}{\slam{A}{P}{f}}{\slam{A}{P}{f'}}
        }
  \\
& \inference
    { \jterm{\Gamma}{\mprd{A}{P}}{g}
      }
    { \jterm{{\Gamma}{A}}{P}{\sev{g}}
      }
& & \inference
      { \jtermeq{\Gamma}{\mprd{A}{P}}{g}{g'}
        }
      { \jtermeq{{\Gamma}{A}}{P}{\sev{g}}{\sev{g'}}
        }
\end{align*}

\begin{defn}
Let $A$ and $B$ be families of contexts over $\Gamma$. Then we define
\begin{equation*}
\jfamdefn{\Gamma}{\jfun{A}{B}}{\sprd{A}{\ctxwk{A}{B}}}.
\end{equation*}
\end{defn}

\subsubsection{Dependent products are compatible with the empty context}
The empty context can appear in the domain and in the codomain of the dependent
function type constructor. We have the following inference rules explaining
what happens when the empty context appears in the domain:
\begin{align}
& \inference
    { \jfam{\Gamma}{P}
      }
    { \jfameq{\Gamma}{\mprd{\emptyf}{P}}{P}
      }
  \\
& \inference
    { \jterm{\Gamma}{P}{f}
      }
    { \jtermeq{\Gamma}{P}{\slam{A}{P}{f}}{f}
      }
  \\
& \inference
    { \jterm{\Gamma}{P}{g}
      }
    { \jtermeq{\Gamma}{P}{\sev{g}}{g}
      }
\end{align}
We have the following infernece rules explaining what happens when the empty
context appears in the codomain:
\begin{align}
& \inference
    { \jfam{\Gamma}{A}
      }
    { \jfameq{\Gamma}{\mprd{A}{\emptyf}}{\emptyf}
      }
\end{align}

\subsubsection{Dependent products are compatible with extension}
\begin{align}
& \inference
  { \jfam{{{{\Gamma}{A}}{B}}{P}}{Q}
    }
  { \jfameq
      {\Gamma}
      {\sprd{{A}{B}}{{P}{Q}}}
      {\ctxext{\sprd{A}{\sprd{B}{P}}}{\sprd{A}{\sprd{B}{Q}}}}
    }
  \\
& \inference
  { \jterm{{{\Gamma}{A}}{B}}{P}{f}
    }
  { \jtermeq
      {\Gamma}
      {\sprd{A}{\sprd{B}{P}}}
      {\slam{{A}{B}}{P}{f}}
      {\slam{A}{\sprd{B}{P}}{\slam{B}{P}{f}}}
    }
\end{align}
\subsubsection{Dependent products are compatible with weakening}
\subsubsection{Dependent products are compatible with substitution}?
\subsubsection{Dependent products are compatible with the identity functions}?

\subsection{$\wtypesym$-types}

\subsection{Universes}

\subsection{The compatibility of the type constructors with each other}
\label{compatibility-of-type-constructors}
