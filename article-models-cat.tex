\section{E-objects in categories with finite limits}
In this section we assume that $\cat{C}$ is a finitely complete category and
whenever we write a pullback, we assume that it is chosen. Recall that for
any morphism $f:A\to B$ in a category $\cat{C}$ with chosen pullbacks, there
is a functor
\begin{equation*}
f^\ast : \cat{C}/B\to\cat{C}/A.
\end{equation*}
As usual, when $g:X\to B$ is a morphism, we will write $f^\ast(X)$ for the
domain of $f^\ast(g)$. When there is more than one morphism $X\to B$ involved,
as will be the case below, we will write $A\times_{f,g}X$. The projections
will be written as $\pi_1^{f,g}$ and $\pi_2^{f,g}$. So in this notation, a
typical pullback diagram has the following form:
\begin{equation*}
\begin{tikzcd}
A\times_{f,g} X
  \ar{r}{\pi_1^{f,g}}
  \ar{d}[swap]{\pi_2^{f,g}}
  &
A \ar{d}{f}
  \\
X \ar{r}[swap]{g}
  &
B
\end{tikzcd}
\end{equation*}

\subsection{Extension objects}
\begin{defn}
An extension object $CFT$ in $\cat{C}$ consists of objects $C$, $F$ and $T$ and the
following morphisms:
\begin{align*}
c &:F\to C\\
t &:T\to F\\
e_0 &:F\to C\\
e_1 & :F\times_{e_0,c} F\to F
\end{align*}
for which the following diagrams commute:
\begin{equation*}
\begin{tikzcd}
F\times_{e_0,c} F \ar{r}{e_1} \ar{d}[swap]{\pi_2^{\epsilon_0,c}} & F \ar{d}{c}\\
F \ar{r}[swap]{c} & C
\end{tikzcd}
\end{equation*}
\begin{equation*}
\begin{tikzcd}
F\times_{e_0,c} F \ar{d}[swap]{e_0^\ast(e_0)} \ar{r}{e_1} & F \ar{d}{e_0}\\
F \ar{r}[swap]{e_0} & C
\end{tikzcd}
\end{equation*}
\begin{equation*}
\begin{tikzcd}
(F\times_{e_0,c} F)\times_{e_1,\pi_2^{e_0,c}}(F\times_{e_0,c} F) 
  \ar{d}[swap]{e_0^\ast(e_1)}
  \ar{r}{e_1^\ast(e_1)}
& F\times_{e_0,c} F \ar{d}{e_1} \\
F\times_{e_0,c} F \ar{r}{e_1} & F
\end{tikzcd}
\end{equation*}
\end{defn}

\begin{defn}
An extension homomorphism $f:CFT\to CFT'$ consists of
\begin{align*}
f_0 & : C\to C'\\
f_1 & : F\to F'\\
f_2 & : T\to T'\\
\end{align*}
for which the squares
\begin{equation*}
\begin{tikzcd}
F \ar{d}[swap]{c} \ar{r}{f_1} & F' \ar{d}{c'}\\
C \ar{r}[swap]{f_0} & C'
\end{tikzcd}
\end{equation*}
\begin{equation*}
\begin{tikzcd}
F \ar{d}[swap]{e_0} \ar{r}{f_1} & F' \ar{d}{e_0'}\\
C \ar{r}[swap]{f_0} & C'
\end{tikzcd}
\end{equation*}
\begin{equation*}
\begin{tikzcd}
F\times_{e_0,c} F \ar{d}[swap]{e_1} \ar{r}{e_0^\ast(f_1)} & F'\times_{e_0',c'}F' \ar{d}{e_1'}\\
F \ar{r}[swap]{f_1} & F'
\end{tikzcd}
\end{equation*}
commute.
\end{defn}

\begin{defn}
Suppose $CFT$ is an extension object of $\cat{C}$. Then we define the extension object
$\mathbf{F}_{CFT}$ to consist of the objects $F$, $F\times_{e_0,c} F$, $F\times_{e_0,t\circ c} T$
with the operations
\begin{align*}
\pi_2^{e_0,c} & : F\times_{e_0,c} F\to F\\
e_0^\ast(t) & : F\times_{e_0,t\circ c} T\to F\times_{e_0,c} F\\
e_1 & : F\times_{e_0,c} F\to F\\
e_0^\ast(e_1) & : F\times_{e_1,\pi_2^{e_0,c}}(F\times_{e_0,c} F)\to F\times_{e_1,\pi_2^{e_0,c}} F
\end{align*}
\end{defn}

It requires proof that this is indeed an extension object of $\cat{C}$. However, the above
construction is a special case of the following construction of new extension objects out
of old ones with $\catid{C}:C\rightarrow C\leftarrow F:e_0$. Thus we postpone the proof
that we have an extension object to the more general case. 

\begin{defn}
Suppose $CFT$ is an extension object of $\cat{C}$ and that $f:C\rightarrow X\leftarrow D:g$.
Then we define the extension object $D\times_{g,f} CFT$ to consist of the objects $D\times_{g,f} C$,
$D\times_{g,f\circ c} F$, $D\times_{g,t\circ f\circ c} T$ and the operations
\begin{align*}
g^\ast(c) & : D\times_{g,f\circ c} F\to D\times_{g,f} C\\
g^\ast(t) & : D\times_{g,f\circ c\circ t} T\to D\times_{g,f\circ c} F\\
g^\ast(e_0) & : D\times_{g,f\circ c} F\to D\times_{g,f} C\\
g^\ast(e_1) & : (D\times_{g,f\circ c} F) \times_{g^\ast(e_0),g^\ast(c)} (D\times_{g,f\circ c} F)\to D\times_{g,f\circ c} F.
\end{align*}
The process of obtaining the extension object $D\times_{g,f} CFT$ out of $CFT$
and $g:D\to X$ is also called the \emph{change of base}.
\end{defn}

\begin{proof}
First we need to verify that the square
\begin{equation*}
\begin{tikzcd}
(D\times_{g,f\circ c} F) \times_{g^\ast(e_0),g^\ast(c)} (D\times_{g,f\circ c} F)
  \ar{r}{g^\ast(e_1)} 
  \ar{d}[swap]{(g^\ast(e_0))^\ast(g^\ast(c))} 
  & 
D\times_{g,f\circ c} F
  \ar{d}{g^\ast(c)}
  \\
D\times_{g,f\circ c} F
  \ar{r}[swap]{g^\ast(c)} 
  & 
D\times_{g,f} C
\end{tikzcd}
\end{equation*}
commutes. To see this, note that we have a commutative diagram
\begin{equation*}
\begin{tikzcd}
D\times_{g,f\circ c\circ \pi_2^{e_0,c}}(F\times_{e_0,c} F)  
  \ar[bend right=10]{ddr}[swap]{g^\ast(\pi_2^{e_0,c})}
  \ar[bend left=10]{drr}{g^\ast(e_1)}
  \ar{dr}{\simeq}
  \\
  {}
  &
(D\times_{g,f\circ c} F)\times_{g^\ast(e_0),g^\ast(c)}(D\times_{g,f\circ c} F)
  \ar{r}[swap]{g^\ast(e_1)}
  \ar{d}{(g^\ast(e_0))^\ast(g^\ast(c))}
  &
  D\times_{g,f\circ c} F
  \\
  {}
  &
D\times_{g,f\circ c} F
  &
{}
\end{tikzcd}
\end{equation*}
where the downwards arrow is an isomorphism. Using this observation, we see that
it is equivalent to show that the square
\begin{equation*}
\begin{tikzcd}
D\times_{g,f\circ c\circ \pi_2^{e_0,c}}(F\times_{e_0,c} F)
  \ar{r}{g^\ast(e_1)} 
  \ar{d}[swap]{g^\ast(\pi_2^{e_0,c})} 
  & 
D\times_{g,f\circ c} F
  \ar{d}{g^\ast(c)}
  \\
D\times_{g,f\circ c} F
  \ar{r}[swap]{g^\ast(c)} 
  & 
D\times_{g,f} C
\end{tikzcd}
\end{equation*}
commutes. But this is just a pullback along $g$ of a square which commutes by assumption.
\end{proof}

\subsection{Homomorphisms of extension objects}
\begin{defn}
Let $CFT$ and $CFT'$ be extension algebras. An extension homomorphism from 
$CFT$ to $CFT'$ is a triple $(f_0,f_1,f_2)$ consisting of morphisms
\begin{equation*}
\begin{tikzcd}
T 
  \ar{r}{f_2}
  \ar{d}{t}
  &
T'
  \ar{d}{t'}
  \\
F 
  \ar{r}{f_1}
  \ar{d}{c}
  &
F'
  \ar{d}{c'}
  \\
C 
  \ar{r}{f_0}
  &
C'
\end{tikzcd}
\end{equation*}
such that the indicated squares commute, for which furthermore the squares
\begin{equation*}
\begin{tikzcd}
F \ar{r}{f_1}
  \ar{d}[swap]{\epsilon_0}
  &
F'
  \ar{d}{\epsilon_0'}
  \\
C \ar{r}[swap]{f_0}
  &
C'
\end{tikzcd}
\end{equation*}
and
\begin{equation*}
\begin{tikzcd}[column sep=large]
F\times_{\epsilon_0,c} F
  \ar{r}{f_1\times_{\epsilon_0,c} f_1}
  \ar{d}[swap]{\epsilon_1}
  &
F'\times_{\epsilon_0',c'} F'
  \ar{d}{\epsilon_1'}
  \\
F \ar{r}[swap]{f_1}
  &
F'
\end{tikzcd}
\end{equation*}
\end{defn}

\begin{lem}
Suppose $f:CFT\to CFT'$ is an extension morphism and consider a morphism
$C'\to X$ and $g:D\to X$. Then the change of base $g^\ast(f):g^\ast(CFT)\to
g^\ast(CFT')$ is an extension morphism.
\end{lem}

\subsection{Weakening objects}
\begin{defn}
A pre-weakening object $CFT$ in $\cat{C}$ is an extension object $CFT$ with 
an extension homomorphism $\mathbf{w}:F\times\mathbf{F_{CFT}}\to \mathbf{F_{F_{CFT}}}$.
\end{defn}

\begin{comment}
\begin{align*}
w_0 & : F\times F\to F\times_{e_0,c} F\\
w_1 & : F\times(F\times_{e_0,c} F) \to F\times_{e_0,c \circ \pi_2^{e_0,c}} (F\times_{e_0,c}F)\\
w_2 & : F\times(F\times_{e_0,t\circ c} T) \to F\times_{e_0,c}(F\times_{e_0,t\circ c} T)
\end{align*}
for which the following diagrams commute:
\begin{equation*}
\begin{tikzcd}
F\times F \ar{r}{w_0} \ar{dr}[swap]{\pi_1} & F\times_{e_0,c}F \ar{d}{\pi_2^{e_0,c}}\\
& F
\end{tikzcd}
\end{equation*}
\begin{equation*}
\begin{tikzcd}
F\times(F\times_{e_0,c} F) 
  \ar{d}[swap]{\catid{F}\times \pi_2^{e_0,c}}
  \ar{r}{w_1}
  &
F\times_{e_0,c\circ \pi_2^{e_0,c}} (F\times_{e_0,c}F)
  \ar{d}{e_0^\ast(\pi_2^{e_0,c})}
  \\
F\times F
  \ar{r}[swap]{w_0}
  &
F\times_{e_0,c} F
\end{tikzcd}
\end{equation*}
\begin{equation*}
\begin{tikzcd}
F\times(F\times_{e_0,t\circ c} T)
  \ar{r}{w_2}
  \ar{d}[swap]{\catid{F}\times e_0^\ast(t)}
  &
F\times_{e_0,c}(F\times_{e_0,t\circ c} T)
  \ar{d}{e_0^\ast(e_0^\ast(t))}
  \\
F\times(F\times_{e_0,c} F)
  \ar{r}[swap]{w_1}
  &
F\times_{e_0,c\circ \pi_2^{e_0,c}} (F\times_{e_0,c}F)
\end{tikzcd}
\end{equation*}
\end{comment}

\begin{defn}
A pre-weakening morphism between preweakening objects $CFT$ and $CFT'$ is an
extension homomorphism $f:CFT\to CFT'$ such that additionally the diagram
\begin{equation*}
\begin{tikzcd}
F\times \mathbf{F}_{CFT}
  \ar{d}[swap]{\mathbf{w}}
  \ar{r}{f_1\times\mathbf{F}_f}
  &
F'\times\mathbf{F}_{CFT'}
  \ar{d}{\mathbf{w'}}
  \\
\mathbf{F}_{\mathbf{F}_{CFT}}
  \ar{r}[swap]{\mathbf{F}_{\mathbf{F}_f}}
  &
\mathbf{F}_{\mathbf{F}_{CFT'}}
\end{tikzcd}
\end{equation*}
commutes
\end{defn}
